{"numTotalTestSuites":11,"numPassedTestSuites":4,"numFailedTestSuites":7,"numPendingTestSuites":0,"numTotalTests":19,"numPassedTests":5,"numFailedTests":9,"numPendingTests":5,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1765061353714,"success":false,"testResults":[{"assertionResults":[],"startTime":1765061353714,"endTime":1765061353714,"status":"failed","message":"() => mockRedisInstance2 is not a constructor","name":"C:/apps/HM/Omni/web/src/app/api/document/process/__tests__/route.test.ts"},{"assertionResults":[{"ancestorTitles":["/api/document/submit","Valida├º├Áes de entrada"],"fullName":"/api/document/submit Valida├º├Áes de entrada should return 400 for invalid JSON","status":"passed","title":"should return 400 for invalid JSON","duration":7.314599999999928,"failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Valida├º├Áes de entrada"],"fullName":"/api/document/submit Valida├º├Áes de entrada should return 400 for missing required fields","status":"passed","title":"should return 400 for missing required fields","duration":2.1078999999999724,"failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Valida├º├Áes de entrada"],"fullName":"/api/document/submit Valida├º├Áes de entrada should return 400 for missing CPF","status":"passed","title":"should return 400 for missing CPF","duration":1.3245999999999185,"failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Valida├º├Áes de entrada"],"fullName":"/api/document/submit Valida├º├Áes de entrada should return 400 for invalid CPF format","status":"passed","title":"should return 400 for invalid CPF format","duration":1.2894999999998618,"failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Valida├º├Áes de entrada"],"fullName":"/api/document/submit Valida├º├Áes de entrada should return 400 for invalid report format","status":"passed","title":"should return 400 for invalid report format","duration":1.3497999999999593,"failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","C├ílculo de hash SHA-256"],"fullName":"/api/document/submit C├ílculo de hash SHA-256 should calculate file hash and persist in audit log","status":"skipped","title":"should calculate file hash and persist in audit log","failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Mensagens de erro amig├íveis"],"fullName":"/api/document/submit Mensagens de erro amig├íveis should return friendly error message when CPF not found","status":"skipped","title":"should return friendly error message when CPF not found","failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Mensagens de erro amig├íveis"],"fullName":"/api/document/submit Mensagens de erro amig├íveis should return friendly error message for duplicate protocol","status":"skipped","title":"should return friendly error message for duplicate protocol","failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Persist├¬ncia no audit log"],"fullName":"/api/document/submit Persist├¬ncia no audit log should log submission with all required audit fields from public portal","status":"skipped","title":"should log submission with all required audit fields from public portal","failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Persist├¬ncia no audit log"],"fullName":"/api/document/submit Persist├¬ncia no audit log should create public sender if not exists","status":"skipped","title":"should create public sender if not exists","failureMessages":[],"meta":{}},{"ancestorTitles":["/api/document/submit","Limite de tamanho de arquivo"],"fullName":"/api/document/submit Limite de tamanho de arquivo should accept files within 2MB limit","status":"failed","title":"should accept files within 2MB limit","duration":1.9924000000000888,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:179:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}},{"ancestorTitles":["/api/document/submit","Limite de tamanho de arquivo"],"fullName":"/api/document/submit Limite de tamanho de arquivo should reject files exceeding 2MB limit","status":"failed","title":"should reject files exceeding 2MB limit","duration":0.45040000000017244,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:179:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}},{"ancestorTitles":["/api/document/submit","Rate Limiting com Redis"],"fullName":"/api/document/submit Rate Limiting com Redis should allow request within rate limit","status":"failed","title":"should allow request within rate limit","duration":0.3913000000000011,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:231:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}},{"ancestorTitles":["/api/document/submit","Rate Limiting com Redis"],"fullName":"/api/document/submit Rate Limiting com Redis should block request exceeding rate limit","status":"failed","title":"should block request exceeding rate limit","duration":0.3809000000001106,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:231:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}},{"ancestorTitles":["/api/document/submit","Rate Limiting com Redis"],"fullName":"/api/document/submit Rate Limiting com Redis should block request from blocked IP","status":"failed","title":"should block request from blocked IP","duration":0.32169999999996435,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:231:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}},{"ancestorTitles":["/api/document/submit","Rate Limiting com Redis"],"fullName":"/api/document/submit Rate Limiting com Redis should fail-open when Redis fails","status":"failed","title":"should fail-open when Redis fails","duration":0.25300000000015643,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:231:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}},{"ancestorTitles":["/api/document/submit","Circuit Breaker com Redis"],"fullName":"/api/document/submit Circuit Breaker com Redis should allow request when circuit breaker is closed","status":"failed","title":"should allow request when circuit breaker is closed","duration":0.2870999999997821,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:298:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}},{"ancestorTitles":["/api/document/submit","Circuit Breaker com Redis"],"fullName":"/api/document/submit Circuit Breaker com Redis should block request when circuit breaker is open","status":"failed","title":"should block request when circuit breaker is open","duration":0.2421999999999116,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:298:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}},{"ancestorTitles":["/api/document/submit","Circuit Breaker com Redis"],"fullName":"/api/document/submit Circuit Breaker com Redis should fail-open when Redis fails in circuit breaker","status":"failed","title":"should fail-open when Redis fails in circuit breaker","duration":0.2817999999999756,"failureMessages":["TypeError: mockRandomUUID.mockReturnValue is not a function\n    at C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts:298:22\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:157:11\n    at file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1636:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1602:10)\n    at runHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1171:51)\n    at callSuiteHook (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1177:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1301:26)\n    at runSuite (file:///C:/apps/HM/Omni/web/node_modules/.pnpm/@vitest+runner@4.0.3/node_modules/@vitest/runner/dist/index.js:1468:8)"],"meta":{}}],"startTime":1765061355606,"endTime":1765061355624.287,"status":"failed","message":"","name":"C:/apps/HM/Omni/web/src/app/api/document/submit/__tests__/route.test.ts"},{"assertionResults":[],"startTime":1765061353714,"endTime":1765061353714,"status":"failed","message":"() => mockRedisInstance2 is not a constructor","name":"C:/apps/HM/Omni/web/src/app/api/document/status/[jobId]/__tests__/route.test.ts"}]}
